---
title: "Function Dependency Tree (R -> C++) for bigPLSR"
shorttitle: "Function Dependency Tree (R -> C++) for bigPLSR"
author:
- name: "Frédéric Bertrand"
  affiliation:
  - Cedric, Cnam, Paris
  email: frederic.bertrand@lecnam.net
date: "`r Sys.Date()`"
output:
  rmarkdown::html_vignette:
    toc: true
vignette: >
  %\VignetteIndexEntry{Function Dependency Tree (R -> C++) for bigPLSR}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

This vignette summarizes which **R wrappers** invoke which **C++ entry points**
(Rcpp exports). It reflects the streaming kernel additions.

## Overview Graph

```{r}
library(DiagrammeR)
mermaid("
graph LR
    A-->B
")
```

```{r}
library(DiagrammeR)
mermaid("
graph TD
  subgraph R
    A[pls_fit()]
  end
  subgraph Cpp
    C1[_bigPLSR_cpp_simpls_from_cross]
    C2[_bigPLSR_cpp_bigmem_cross]
    C3[_bigPLSR_cpp_stream_scores_given_W]
    C4[_bigPLSR_cpp_big_plsr_stream_fit_nipals]
    C5[_bigPLSR_cpp_dense_pls_fit]
    C6[_bigPLSR_cpp_kpls_stream_cols]
    C7[_bigPLSR_cpp_kpls_stream_xxt]
  end
  A -->|backend='arma', algorithm='simpls'| C1
  A -->|backend='arma', algorithm='nipals'| C5
  A -->|backend='bigmem', algorithm='simpls'| C2
  A -->|scores streaming| C3
  A -->|backend='bigmem', algorithm='nipals'| C4
  A -->|backend='bigmem', algorithm='kernelpls', cols| C6
  A -->|backend='bigmem', algorithm='kernelpls', rows(XX^T)| C7
")
```

## Notes

- Dense SIMPLS uses cross-products computed in R and solved in C++ (C1).
- Big-memory SIMPLS computes cross-products in chunks (C2), then scores can be
  streamed with known weights (C3).
- Kernel PLS now exposes two streaming backends:
  column-chunked (C6) and **row-chunked XX^T** (C7).
